<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Installing/Loading Certificate To the Tigase Server</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="_creating_and_loading_the_server_certificate_in_pem_files.html" title="Chapter&nbsp;23.&nbsp;Creating and Loading the Server Certificate in pem Files"><link rel="prev" href="_creating_and_loading_the_server_certificate_in_pem_files.html" title="Chapter&nbsp;23.&nbsp;Creating and Loading the Server Certificate in pem Files"><link rel="next" href="_tigase_server_configuration.html" title="Tigase Server Configuration"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Installing/Loading Certificate To the Tigase Server</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_creating_and_loading_the_server_certificate_in_pem_files.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;23.&nbsp;Creating and Loading the Server Certificate in pem Files</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="_tigase_server_configuration.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_installing_loading_certificate_to_the_tigase_server"></a>Installing/Loading Certificate To the Tigase Server</h2></div></div></div><p>From the version <span class="strong"><strong>3.1.0-b802</strong></span> of Tigase server installing/loading certificates is very easy. The server can load all certificates directly from <span class="strong"><strong>pem</strong></span> files. You just need to create a separate pem file for each of your virtual domains and put the file in a directory accessible by the server. Tigase server can automatically load all <span class="strong"><strong>pem</strong></span> files found in given directory.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_pem_file"></a>PEM File</h3></div></div></div><p><span class="strong"><strong>PEM</strong></span> file is a file containing server certificate, certificate private key and certificate chain if it exists. For self-signed certificates there is no certificate chain so creating pem file is very simple:</p><pre class="programlisting">cat yourdomain.com.crt yourdomain.com.key &gt; yourdomain.com.pem</pre><p>If the certificate is issued by third-party authority you have also to attach certificate chain, that is certificate of the authority who has generated your certificate. You normally need to obtain certificates for your chain from the authority who has generated your certificate. For example, of you have a certificate from XMPP federation you need to download <a class="link" href="http://www.startssl.com/certs/ca.pem" target="_top">StartCom root certificate</a> and <a class="link" href="http://www.startssl.com/certs/sub.class1.server.ca.pem" target="_top">intermediate ICA certificate</a>. In such case pem file is created using following command:</p><pre class="programlisting">cat yourdomain.com.crt yourdomain.com.key sub.class1.xmpp.ca.crt ca.crt &gt; yourdomain.com.pem</pre><p>Result file should looks similar to:</p><pre class="programlisting">-----BEGIN CERTIFICATE-----
MIIG/TCCBeWgAwIBAgIDAOwZMA0GCSqGSIb3DQEBBQUAMIGMMQswCQYDVQQGEwJJ
.
.
.
pSLqw/PmSLSmUNIr8yQnhy4=
-----END CERTIFICATE-----
-----BEGIN RSA PRIVATE KEY-----
WW91J3JlIGtpZGRpbmchISEKSSBkb24ndCBzaG93IHlvdSBvdXIgcHJpdmF0ZSBr
.
.
.
ZXkhISEhCkNyZWF0ZSB5b3VyIG93biA7KSA7KSA7KQo=
-----END RSA PRIVATE KEY-----
-----BEGIN CERTIFICATE-----
MIIHyTCCBbGgAwIBAgIBATANBgkqhkiG9w0BAQUFADB9MQswCQYDVQQGEwJJTDEW
.
.
.
xV/stleh
-----END CERTIFICATE-----</pre><p>For Tigase server and many other servers (Apache 2.x) the order is following: your domain certificate, your private key, authority issuing your certificate, root certificate.</p><p><span class="strong"><strong>Note! Tigase requires full certificate chain in PEM file (described above)! Different applications may require pem file with certificates and private key in different order. So the same file may not be necessarily used by other services like Web server or e-mail server. Currenty Tigase can automatically sort sertificates in PEM file while loading it.</strong></span></p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_creating_and_loading_the_server_certificate_in_pem_files.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="_creating_and_loading_the_server_certificate_in_pem_files.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="_tigase_server_configuration.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;23.&nbsp;Creating and Loading the Server Certificate in pem Files&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Tigase Server Configuration</td></tr></table></div></body></html>