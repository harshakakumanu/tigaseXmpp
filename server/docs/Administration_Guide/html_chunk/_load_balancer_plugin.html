<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Load Balancer Plugin</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="_basic_configuration_options_external_component.html" title="Chapter&nbsp;60.&nbsp;Basic Configuration Options (External Component)"><link rel="prev" href="_specifying_protocol.html" title="Specifying Protocol"><link rel="next" href="_tigase_as_external_component.html" title="Chapter&nbsp;61.&nbsp;Tigase as External Component"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Load Balancer Plugin</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_specifying_protocol.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;60.&nbsp;Basic Configuration Options (External Component)</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="_tigase_as_external_component.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_load_balancer_plugin"></a>Load Balancer Plugin</h2></div></div></div><p>The last option you can set for external component connections is load balancer class.</p><p>The load balancer plugin is used if you have multiple connections for the same component (external domain name) and you want to spread load over all connections. Perhaps you have an installation with huge number of MUC rooms and you want to spread the load over all MUC instances.</p><p>An example configuration with load balancer plugin specified:</p><pre class="programlisting">--comp-name-1 = ext
--comp-class-1 = tigase.server.ext.ComponentProtocol
--external = muc.devel.tigase.org:mucsecret:listen:5270:devel.tigase.org:accept:ReceiverBareJidLB, \
  pubsub.devel.tigase.org:pubsub_pass:listen:5270:devel.tigase.org:accept:SenderBareJidLB</pre><p>It defines two listeners for external component with different load balancer plugins. The first load-balance traffic by a packet destination BareJID, which makes sense for MUC component. This way each MUC instance handles a different set of rooms which allows for a good load distribution.</p><p>For PubSub component we use a different load balancer plugin which distributes load by the sender BareJID instead. This is because for PubSub destination BareJID is always the same so we cannot use it to distribute the load.</p><p>Either the <span class="strong"><strong>ReceiverBareJidLB</strong></span> or <span class="strong"><strong>SenderBareJidLB</strong></span> are class names from package: <span class="strong"><strong>tigase.server.ext.lb</strong></span> however, you can use any class name as a plugin, you just have to provide a full class name and the class name must implement <span class="strong"><strong>LoadBalancerIfc</strong></span> interface.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_specifying_protocol.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="_basic_configuration_options_external_component.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="_tigase_as_external_component.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Specifying Protocol&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;61.&nbsp;Tigase as External Component</td></tr></table></div></body></html>