<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;41.&nbsp;Add and Manage Domain</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="index.html" title="Tigase Administration Guide"><link rel="prev" href="_tigase_services.html" title="Chapter&nbsp;40.&nbsp;Tigase Services"><link rel="next" href="_adding_a_new_user.html" title="Adding a New User"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;41.&nbsp;Add and Manage Domain</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_tigase_services.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="_adding_a_new_user.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="_add_and_manage_domain"></a>Chapter&nbsp;41.&nbsp;Add and Manage Domain</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="_add_and_manage_domain.html#_adding_a_new_domain">Adding a New Domain</a></span></dt><dt><span class="section"><a href="_adding_a_new_user.html">Adding a New User</a></span></dt><dt><span class="section"><a href="_what_else.html">What Else?</a></span></dt></dl></div><p>Wojciech Kapcia &lt;<a class="link" href="mailto:wojciech.kapcia@tigase.org" target="_top">wojciech.kapcia@tigase.org</a>&gt;
v2.0, June 2014: Reformatted for AsciiDoc.
:toc:
:numbered:
:website: <a class="link" href="http://tigase.net" target="_top">http://tigase.net</a>
:Date: 2012-08-23 21:13</p><p>For everybody interested in using our service to host own XMPP domain I have good news. You do not have to ask administrator to add your domain or add users for your domain anymore. You can do it on your own.</p><p>Please note, this is very new stuff. Something may go wrong or may not be polished. Please report any problems, notices or suggestions.</p><p>This is the guide to walk you through new functions and describes how to add a new domain and new users within your domain.</p><p>You can do all the stuff from your XMPP client or you can use our WebApplication that allows you to connect to the service and execute admin commands. I recommend <a class="link" href="http://psi-im.org/" target="_top">Psi</a> because of its excellent support for parts of the XMPP protocol which are used for domains and users management. You may use any other client as well, there is no limitation but I can only offer support and help if you use Psi client.</p><p>Secondly, you need an account on the server. This is because all the commands and features described here are available to local users only. Therefore, if you do not have a registered domain with us yet, please go ahead and register an account on the website either the <a class="link" href="http://jabber.me/" target="_top">Jabber.Me</a> or <a class="link" href="http://www.tigase.im/" target="_top">Tigase.IM</a>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_adding_a_new_domain"></a>Adding a New Domain</h2></div></div></div><p>Once you register an account on one of the websites connect to the XMPP server using the account on the Psi client. I have an example, nice account: <a class="link" href="mailto:green@tigase.im" target="_top">green@tigase.im</a> which is used for this guide.</p><p>When you are ready right click on the account name in Psi roster window to bring up context menu. Select <span class="strong"><strong>Service Discovery</strong></span> element.</p><p><span class="inlinemediaobject"><img src="./images/service_disco_menu.png" alt="service_disco_menu"></span></p><p>A new windows pops up as in the example on the right. Service discovery window is where all the stuff installed on XMPP service should show up. Most of elements on the list are well known transports, MUC and PubSub components. The new stuff on the list, which is interesting for us now, are 2 elements: <span class="strong"><strong>VHost Manager</strong></span> and <span class="strong"><strong>Session Manager</strong></span>.</p><p><span class="inlinemediaobject"><img src="./images/service_disco_window_vhost.png" alt="service_disco_window_vhost"></span></p><p><span class="strong"><strong>VHost Manager</strong></span> component in the Tigase is responsible for managing and controlling virtual hosts on the installation. It provides virtual hosts information to all other parts of the system and also allows you to add new hosts and remove/update existing virtual hosts.</p><p><span class="strong"><strong>Session Manager</strong></span> component in the Tigase is responsible for managing users. In most cases online users but it can also perform some actions on user repository where all user data is stored.</p><p>Select <span class="strong"><strong>VHost Manager</strong></span> and double click on it. A new windows shows up (might be hidden behind the service discovery window). The window contains another menu with a few items: <span class="strong"><strong>Add&#8230;&#8203;, Remove&#8230;&#8203;</strong></span> and <span class="strong"><strong>Update&#8230;&#8203;</strong></span> . These are for adding, removing and updating VHost information. For now, just select the first element <span class="strong"><strong>Add&#8230;&#8203;.</strong></span></p><p><span class="inlinemediaobject"><img src="./images/command_menu_add_vhost.png" alt="command_menu_add_vhost"></span></p><p>Press <span class="strong"><strong>Execute</strong></span> and you get a new window where you can enter all of your VHost configuration details. I think all the fields are pretty much self explanatory. Leave blank field for <span class="strong"><strong>Other parameters</strong></span> for now. <span class="strong"><strong>Owner</strong></span> is you, that is Jabber ID which controls the domain and can change the domain configuration settings or can remove the domain from the service. <span class="strong"><strong>Administrators</strong></span> field can be left blank or can contain comma separated list of Jabber IDs for people who can manage users within the domain. Of course the owner can always manage users for his domain too.</p><p><span class="inlinemediaobject"><img src="./images/add_vhost_window.png" alt="add_vhost_window"></span></p><p>When you are ready press <span class="strong"><strong>Finish</strong></span> button. All done, hopefully. You can get either a window confirming everything went well or a window printing an error message if something went wrong. What can be wrong? There are some restrictions I decided to put on the service to prevent abuse. One of the restrictions is the maximum number of domains a user can register for himself which is <span class="strong"><strong>25</strong></span> right now. Another restriction is that the domain which you add must have a valid DNS entry pointing to our service. The ////<a name="addXMPP"></a>//// add XMPP guide describes all the details about DNS settings. Please refer to these instructions if you need more details.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_tigase_services.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="_adding_a_new_user.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;40.&nbsp;Tigase Services&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Adding a New User</td></tr></table></div></body></html>