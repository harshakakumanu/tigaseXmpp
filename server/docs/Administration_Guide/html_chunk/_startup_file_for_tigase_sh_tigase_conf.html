<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;21.&nbsp;Startup File for tigase.sh - tigase.conf</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="index.html" title="Tigase Administration Guide"><link rel="prev" href="_logs.html" title="Logs"><link rel="next" href="_server_certificates.html" title="Chapter&nbsp;22.&nbsp;Server Certificates"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;21.&nbsp;Startup File for tigase.sh - tigase.conf</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_logs.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="_server_certificates.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="_startup_file_for_tigase_sh_tigase_conf"></a>Chapter&nbsp;21.&nbsp;Startup File for tigase.sh - tigase.conf</h1></div></div></div><p>Artur Hefczyc &lt;<a class="link" href="mailto:artur.hefczyc@tigase.net" target="_top">artur.hefczyc@tigase.net</a>&gt;
v2.0, June 2014: Reformatted for AsciiDoc.
:toc:
:numbered:
:website: <a class="link" href="http://tigase.net" target="_top">http://tigase.net</a>
:Date: 2010-04-06 21:18</p><p>Property file name for tigase.sh startup script is a second parameter for the startup script. It can be skipped if environmental variables are set in different place or in different way.</p><p>Config file for startup script simply sets number of environment variables with location of required components. Possible  variables to set in this file are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>JAVA_HOME</strong></span> - location of Java installation home directory. <span class="strong"><strong>Must be set</strong></span>.</li><li class="listitem"><span class="strong"><strong>TIGASE_HOME</strong></span> - location of Tigase installation home directory. <span class="emphasis"><em>By default script try to find this location by searching directories from the location where the script has been run.</em></span></li><li class="listitem"><span class="strong"><strong>TIGASE_CONSOLE_LOG</strong></span> - file to which all console messages will be redirected if server is run in background. By default it will be: <span class="emphasis"><em>TIGASE_HOME/logs/tigase-console.log</em></span>. <span class="strong"><strong><span class="emphasis"><em>If this file/directory is not writable by Tigase process all console messages will be redirected to /dev/null</em></span></strong></span></li><li class="listitem"><span class="strong"><strong>TIGASE_PID</strong></span> location of the file with server PID number. By default it will be <span class="emphasis"><em>TIGASE_HOME/logs/tigase.pid</em></span>.</li><li class="listitem"><span class="strong"><strong>TIGASE_CONFIG</strong></span> - location of the Tigase server config file. This is main config XML file. Not to be confused with startup script parameters file. <span class="emphasis"><em>If not set script trys to find it in following locations in given order:</em></span> /etc/conf.d/tigase-server.xml, /etc/tigase-server.xml, /etc/tigase/tigase-server.xml or finally in TIGASE_HOME/etc/tigase-server.xml</li><li class="listitem"><span class="strong"><strong>JAVA_OPTIONS</strong></span> - options for JVM like size of RAM allocated for the JVM, properties and so on.</li><li class="listitem"><span class="strong"><strong>TIGASE_OPTIONS</strong></span> - additional options for Tigase server program. You can tweak here initial parameters for your environment.</li></ul></div><p>Sample file to run <span class="strong"><strong>Tigase</strong></span> with <span class="strong"><strong>PostgreSQL</strong></span> database may look like:</p><pre class="programlisting">ENC="-Dfile.encoding=UTF-8 -Dsun.jnu.encoding=UTF-8"
DRV="-Djdbc.drivers=org.postgresql.Driver"
JAVA_OPTIONS="${ENC} ${DRV} -server -Xms100M -Xmx100M "
CLASSPATH=""
TIGASE_CONFIG="tigase-pgsql.xml"
TIGASE_OPTIONS=" --property-file etc/init.properties "</pre><p>Please note encoding settings. I have received several requests about encoding problems. JVM by default uses encoding set in operating system environment. XMPP protocol, however uses UTF-8 for all data processing. So the above settings enforces UTF-8 encoding for all operations.</p><p>Another significant setting is \'<span class="strong"><strong>CLASSPATH</strong></span>'. It is intentionally set to empty string. The <span class="strong"><strong>tigase.sh</strong></span> startup script builds the <span class="strong"><strong>CLASSPATH</strong></span> on it&#8217;s own from files found in <span class="strong"><strong>jars/</strong></span> and <span class="strong"><strong>libs/</strong></span> directories. I advice to set the <span class="strong"><strong>CLASSPATH</strong></span> to the empty string because the Tigase server scans all available classes to find all components and plugins implementation. If the <span class="strong"><strong>CLASSPATH</strong></span> contains lots of libraries which are not used anyway it cases long startup time and lots of memory consumption.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_logs.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="_server_certificates.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Logs&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;22.&nbsp;Server Certificates</td></tr></table></div></body></html>