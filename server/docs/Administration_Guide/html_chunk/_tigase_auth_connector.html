<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;71.&nbsp;Tigase Auth Connector</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="index.html" title="Tigase Administration Guide"><link rel="prev" href="_ldap_authentication_connector.html" title="Chapter&nbsp;70.&nbsp;LDAP Authentication Connector"><link rel="next" href="_tigase_server_version_3_x.html" title="Chapter&nbsp;72.&nbsp;Tigase Server Version 3.x"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;71.&nbsp;Tigase Auth Connector</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_ldap_authentication_connector.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="_tigase_server_version_3_x.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="_tigase_auth_connector"></a>Chapter&nbsp;71.&nbsp;Tigase Auth Connector</h1></div></div></div><p>Artur Hefczyc &lt;<a class="link" href="mailto:artur.hefczyc@tigase.net" target="_top">artur.hefczyc@tigase.net</a>&gt;
v2.0, June 2014: Reformatted for AsciiDoc.
:toc:
:numbered:
:website: <a class="link" href="http://tigase.net" target="_top">http://tigase.net</a>
:Date: 2010-04-06 21:18</p><p>The Tigase Auth connector with shortcut name: <span class="strong"><strong>tigase-auth</strong></span> is implemented in the class: <a class="link" href="http://projects.tigase.org/server/trac/browser/trunk/src/main/java/tigase/db/jdbc/TigaseAuth.java" target="_top">tigase.db.jdbc.TigaseAuth</a>. It allows you to connect to any external database to perform user authentication.
You can find more details how to setup a custom connector in ////&lt;&lt;customAuthentication,////Custom Authentication Connectors guide.</p><p>To make this connector working you have to prepare your database to offer set of stored procedures for the Tigase server to perform all the authentication actions. The best description is the example schema with all the stored procedures defined. Please refer to the Tigase <a class="link" href="http://projects.tigase.org/server/trac/browser/trunk/database/" target="_top">SVN repository</a> for the schema definition files.</p><p>Files with the stored procedures implementations are located in <a class="link" href="http://projects.tigase.org/server/trac/browser/trunk/database/mysql-schema-4-sp.schema" target="_top">mysql-schema-4-sp.schema</a> for MySQL database and in <a class="link" href="http://projects.tigase.org/server/trac/browser/trunk/database/postgresql-schema-4-sp.schema" target="_top">postgresql-schema-4-sp.schema</a> file for PostgreSQL database. You can also refer to the tables definition files to see how database is organized in our implementation: <a class="link" href="http://projects.tigase.org/server/trac/browser/trunk/database/mysql-schema-4.sql" target="_top">mysql-schema-4.sql</a> file for MySQL database and <a class="link" href="http://projects.tigase.org/server/trac/browser/trunk/database/postgresql-schema-4.sql" target="_top">postgresql-schema-4.sql</a> file for PostgreSQL database.</p><p>The absolute minimum of stored procedures you have to implement is:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>TigUserLoginPlainPw</strong></span> - to perform user authentication. The procedure is always called when the user tries to login to the XMPP server. This is the only procedure which must be implemented and actually must work.</li><li class="listitem"><span class="strong"><strong>TigUserLogout</strong></span> - to perform user logout. The procedure is always called when the user logouts or disconnects from the server. This procedure must be implemented but it can be empty and can do nothing. It just needs to exist because Tigase expect it to exist and attempts to call it.</li></ul></div><p>With these 2 above stored procedures you can only perform user login/logout on the external database. You can&#8217;t register a user account, change user password or remove the user. In many cases this is fine as all the user management is handled by the external system.</p><p>If you however want to allow for account management via XMPP you have to implement also following procedures:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>TigAddUserPlainPw</strong></span> - to add a new user account</li><li class="listitem"><span class="strong"><strong>TigRemoveUser</strong></span> - to remove existing user account</li><li class="listitem"><span class="strong"><strong>TigUpdatePasswordPlainPw</strong></span> - to change a user password for existing account</li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_ldap_authentication_connector.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="_tigase_server_version_3_x.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;70.&nbsp;LDAP Authentication Connector&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;72.&nbsp;Tigase Server Version 3.x</td></tr></table></div></body></html>