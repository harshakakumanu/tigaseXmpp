<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;23.&nbsp;Creating and Loading the Server Certificate in pem Files</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="index.html" title="Tigase Administration Guide"><link rel="prev" href="_server_certificates.html" title="Chapter&nbsp;22.&nbsp;Server Certificates"><link rel="next" href="_installing_loading_certificate_to_the_tigase_server.html" title="Installing/Loading Certificate To the Tigase Server"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;23.&nbsp;Creating and Loading the Server Certificate in pem Files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_server_certificates.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="_installing_loading_certificate_to_the_tigase_server.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="_creating_and_loading_the_server_certificate_in_pem_files"></a>Chapter&nbsp;23.&nbsp;Creating and Loading the Server Certificate in pem Files</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="_creating_and_loading_the_server_certificate_in_pem_files.html#_server_certificate">Server Certificate</a></span></dt><dd><dl><dt><span class="section"><a href="_creating_and_loading_the_server_certificate_in_pem_files.html#_certificate_request">Certificate Request</a></span></dt><dt><span class="section"><a href="_creating_and_loading_the_server_certificate_in_pem_files.html#_certificate_from_other_providers">Certificate From Other Providers</a></span></dt><dt><span class="section"><a href="_creating_and_loading_the_server_certificate_in_pem_files.html#_self_signed_certificate">Self-Signed Certificate</a></span></dt></dl></dd><dt><span class="section"><a href="_installing_loading_certificate_to_the_tigase_server.html">Installing/Loading Certificate To the Tigase Server</a></span></dt><dd><dl><dt><span class="section"><a href="_installing_loading_certificate_to_the_tigase_server.html#_pem_file">PEM File</a></span></dt></dl></dd><dt><span class="section"><a href="_tigase_server_configuration.html">Tigase Server Configuration</a></span></dt></dl></div><p>Artur Hefczyc &lt;<a class="link" href="mailto:artur.hefczyc@tigase.net" target="_top">artur.hefczyc@tigase.net</a>&gt;
v2.0, June 2014: Reformatted for AsciiDoc.
:toc:
:numbered:
:website: <a class="link" href="http://tigase.net" target="_top">http://tigase.net</a>
:Date: 2010-04-06 21:18</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_server_certificate"></a>Server Certificate</h2></div></div></div><p>Server certificate is needed when you use secure socket connections - SSL/TLS.</p><p>For secure socket connection proper certificate is needed. You can either generate your own, self-signed certificate or obtain certificate from trusted third party organization.</p><p>Here are steps how to obtain certificate from a trusted organization.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_certificate_request"></a>Certificate Request</h3></div></div></div><p>Before you can obtain/generate server certificate you need to have a private key and generate certificate request which contain essential information about you (the entity requesting certificate) and the domain for which you want the certificate.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Generate the certificate request:</p><pre class="programlisting">openssl req -nodes -new -newkey rsa:2048 -keyout yourdomain.com.key -out yourdomain.com.csr</pre><p class="simpara">You will be asked series of questions:</p><pre class="programlisting">Country Name (2 letter code) [AU]:AU
State or Province Name (full name) [Some-State]:Somestate
Locality Name (eg, city) []:Your city name
Organization Name (eg, company) [Internet Widgits Pty Ltd]:Company name
Organizational Unit Name (eg, section) []:Department or any unit
Common Name (eg, YOUR name) []:*.yourdomain.com
Email Address []:your_email_address@somedomain.com

Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:
An optional company name []:</pre></li><li class="listitem"><p class="simpara">The command will generate 2 files for you:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">yourdomain.com.csr</li><li class="listitem">yourdomain.com.key</li></ol></div></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_certificate_from_other_providers"></a>Certificate From Other Providers</h3></div></div></div><p>There is number of certificate providers offering certificates either for free or for money. You can use any of them, however you have to be aware that sometimes certificates might not be recognized by all other XMPP servers, especially if this is a new provider. Here is an example list of providers:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="https://www.cacert.org/" target="_top">CAcert</a> - free certificates with an excellent Web GUI for managing generated certificates and identities.</li><li class="listitem"><a class="link" href="https://www.startssl.com/" target="_top">StartCom</a> - both free and paid certificates, class 1, 2 and 3. Very good GUI for managing certificates and identities.</li><li class="listitem"><a class="link" href="https://www.verisign.com/" target="_top">Verisign</a> - very expensive certificates comparing to above provides but the provider is recognized by everybody. If you have a certificate from Verisign you can be sure it is identified as a valid certificate.</li><li class="listitem"><a class="link" href="http://www.comodo.com/business-security/digital-certificates/ssl-certificates.php" target="_top">Comodo Certificate Authority</a> offers different kind of commercial certificates</li></ul></div><p>To obtain certificate from such a third party authority you have to go to its Website and request the certificate using certificate request generated above. I can not provide any instructions for this as each of above providers have a different offer and a different user interface.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_self_signed_certificate"></a>Self-Signed Certificate</h3></div></div></div><p>Another option, <span class="strong"><strong>highly not recommended</strong></span> is to use self-signed certificate. Such a certificate won&#8217;t be recognized by any entity on the Internet but your own. So if any other Jabber server allows for connections only with valid certificate your installation won&#8217;t be able to connect. On the other hand self-signed certificate is a very good way for testing environment where you can create many artificial domains and you can test your service for supporting many virtual domains. You can generate as many certificates as you want and load them onto your server and play around.</p><p>Tigase, version 5.0.0 and newer automatically generates self-signed certificates for each Virtual Host configured. Alternatively such certificate can be created by hand - just execute following command using the same as above <span class="strong"><strong>openssl</strong></span> tool:</p><pre class="programlisting">openssl x509 -req -days 365 -in yourdomain.com.csr -signkey yourdomain.com.key -out yourdomain.com.crt</pre><p>You can, of course put there any number of days you like.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_server_certificates.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="_installing_loading_certificate_to_the_tigase_server.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;22.&nbsp;Server Certificates&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Installing/Loading Certificate To the Tigase Server</td></tr></table></div></body></html>