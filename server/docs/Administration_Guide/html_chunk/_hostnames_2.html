<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Hostnames</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="_short_configuration_guide.html" title="Chapter&nbsp;84.&nbsp;Short Configuration Guide"><link rel="prev" href="_short_configuration_guide.html" title="Chapter&nbsp;84.&nbsp;Short Configuration Guide"><link rel="next" href="_command_line_admin_tools.html" title="Chapter&nbsp;85.&nbsp;Command Line Admin Tools"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Hostnames</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_short_configuration_guide.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;84.&nbsp;Short Configuration Guide</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="_command_line_admin_tools.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_hostnames_2"></a>Hostnames</h2></div></div></div><p>This one might be a little bit more tricky than previous as <span class="strong"><strong>hostnames</strong></span> setting has to be changed in a few places. Don&#8217;t ask why now as this is the "<span class="emphasis"><em>Short configuration guide</em></span>", you remember. Here we focus on <span class="strong"><strong>how</strong></span> not on <span class="strong"><strong>why</strong></span>.</p><p>The best way to find all places where hostnames should be changes execute following command:</p><pre class="programlisting">./bin/config.sh -c etc/tigase-server.xml -print | grep hostnames</pre><p>As a result you can see something like this:</p><pre class="programlisting">tigase-xmpp-server/hostnames = yourhost, localhost
client_1/hostnames = yourhost, localhost
server_1/hostnames = yourhost, localhost
session_1/hostnames = yourhost, localhost</pre><p>It may also look:</p><pre class="programlisting">tigase-xmpp-server/hostnames = localhost
client_1/hostnames = localhost
server_1/hostnames = localhost
session_1/hostnames = localhost</pre><p>Depending how successful was mechanism for automatic hostname detection. It of course does not depends on your luck. It depends on network configuration on your server.</p><p>The first form is more useful as it includes also hostname recognized in network environment. If it is correct then you can just leave it as it is. If it is incorrect you have to change it. Please remember, if you want your server to be able to communicate with other <span class="emphasis"><em>Jabber/XMPP</em></span> servers the hostname you put there must resolve in DNS to your Jabber server machine IP address. In other words. If you try to connect from the Internet to machine with this hostname the connection should reach your Jabber server.</p><p>And remember your Jabber server users' JIDs (<span class="emphasis"><em>Jabber IDs</em></span>) can include only those hostnames which are included in the configuration. So for our case you can use only <span class="emphasis"><em>JIDs</em></span>: "user2@your.hostname.com", "user1@your.hostname.com" and so on.</p><p>If you server have more Internet addresses (virtual domains) assigned to it your Jabber server can use them all. So your configuration may look ike:</p><pre class="programlisting">tigase-xmpp-server/hostnames = yourhost, localhost, your.hostname.com, clien1.hostname.com
client_1/hostnames = yourhost, localhost, your.hostname.com, clien1.hostname.com
server_1/hostnames = yourhost, localhost, your.hostname.com, clien1.hostname.com
session_1/hostnames = yourhost, localhost, your.hostname.com, clien1.hostname.com</pre><p>In such case users' <span class="emphasis"><em>JIDs</em></span> on your Jabber server may include any of defined above domains like: "<a class="link" href="mailto:user1@your.hostname.com" target="_top">user1@your.hostname.com</a>", <span class="emphasis"><em>"<a class="link" href="mailto:user1@clien1.hostname.com" target="_top">user1@clien1.hostname.com</a>",</em></span> <span class="emphasis"><em>"user1@yourhost".</em></span> Each of these 3 sample <span class="emphasis"><em>JIDs</em></span> refer to different user account.</p><p>Your server will accept connections only for domains defined in configuration file.</p><p>In majority cases it does not matter whether you leave <span class="strong"><strong>"localhost"</strong></span> or remove it. It is sometimes better to leave it though. So if you are not sure if you can remove it in your environment just leave it as is.</p><p>Now it is a time to change hostnames. Assuming default configuration is not what you need than first you have to set all these settings to accept connections from localhost:</p><pre class="programlisting">./bin/config.sh -c etc/tigase-server.xml -print -key tigase-xmpp-server/hostnames -value localhost -set
./bin/config.sh -c etc/tigase-server.xml -print -key client_1/hostnames -value localhost -set
./bin/config.sh -c etc/tigase-server.xml -print -key server_1/hostnames -value localhost -set
./bin/config.sh -c etc/tigase-server.xml -print -key session_1/hostnames -value localhost -set</pre><p>Now we can add you "real" host name, let&#8217;s say it is yourhost:</p><pre class="programlisting">./bin/config.sh -c etc/tigase-server.xml -print -key tigase-xmpp-server/hostnames -value yourhost -add
./bin/config.sh -c etc/tigase-server.xml -print -key client_1/hostnames -value yourhost -add
./bin/config.sh -c etc/tigase-server.xml -print -key server_1/hostnames -value yourhost -add
./bin/config.sh -c etc/tigase-server.xml -print -key session_1/hostnames -value yourhost -add</pre><p>The same way you can add more virtual hosts to you configuration.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_short_configuration_guide.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="_short_configuration_guide.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="_command_line_admin_tools.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;84.&nbsp;Short Configuration Guide&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;85.&nbsp;Command Line Admin Tools</td></tr></table></div></body></html>