<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;80.&nbsp;Installation</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="index.html" title="Tigase Administration Guide"><link rel="prev" href="_tigase_server_version_2_x.html" title="Chapter&nbsp;79.&nbsp;Tigase Server version 2.x"><link rel="next" href="_mysql_database_use.html" title="Chapter&nbsp;81.&nbsp;MySQL Database Use"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;80.&nbsp;Installation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_tigase_server_version_2_x.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="_mysql_database_use.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="_installation_3"></a>Chapter&nbsp;80.&nbsp;Installation</h1></div></div></div><p>Artur Hefczyc &lt;<a class="link" href="mailto:artur.hefczyc@tigase.net" target="_top">artur.hefczyc@tigase.net</a>&gt;
v2.0, June 2014: Reformatted for AsciiDoc.
:toc:
:numbered:
:website: <a class="link" href="http://tigase.net" target="_top">http://tigase.net</a>
:Date: 2010-04-06 21:16</p><p>To get server up and running you have to download from our site the most recent version of the binary package.</p><p>Unpack it with the following command:</p><p>On Unix like system:</p><pre class="programlisting">tar -xzvf tigase-server-x.x.x-bx.tar.gz</pre><p>On MS Windows system use any application which can handle either zip files or tar.gz files and unpack server package to selected directory.</p><p>Sometimes after unpacking package on unix system startup script doesn&#8217;t have execution permissions. To fix the problem you have to run following command:</p><pre class="programlisting">chmod u+x ./bin/tigase.sh</pre><p>As there are also other useful scripts you could just set executable bit for all of them at the same time:</p><pre class="programlisting">chmod u+x ./bin/*</pre><p>Now all you need is <span class="emphasis"><em>Java 6 (1.6 beta2 at the moment)</em></span> compliant virtual machine. You can run server from command line with simple command:</p><pre class="programlisting">./bin/tigase.sh run etc/tigase.conf</pre><p>You can see now a few messages with warning about missing configuration file and missin user repository file. These 2 files will be automaticaly created. Config file will be created just during first execution of the server and user repository file will be created when the first user is added to the system.</p><p>You should be able now to connect to the server with Jabber/XMPP client of your choice.</p><p>First parameter is a command, second parameter is a config file for startup script. Possible commands are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>start</strong></span> - Starts server in background redirecting all console messages to separate log file.</li><li class="listitem"><span class="strong"><strong>stop</strong></span> - Stops the last started server Be carefull with this command if the server has been stopped in different way but the script still thinks the server is running. The script detects that the server has been started by looking for tigase.pid file. Then it reads server PID from the file and sends kill signal to the process. It may happen that the server is not running but there is another process with this PID. If you know that you server is not running but the script claims it is, it means that the script finds old tigase.pid file. In such case to make it possible to start server again you should either remove the file manually or run script with <span class="strong"><strong>zap</strong></span> command.</li><li class="listitem"><span class="strong"><strong>run</strong></span> - Starts the server as foreground process with all console messages printed onto console. To stop the server simply press Ctrl-C. It does not create tigase.pid file.</li><li class="listitem"><span class="strong"><strong>restart</strong></span> - Restarts currently running server. It simply calls the script first with stop command and then with start command.</li><li class="listitem"><span class="strong"><strong>check</strong></span> - This commands simply prints all the settings which would be used to start or stop the server. It is strongly recommended to use this command before the first server run.</li></ul></div><p>Config file for startup script simply sets number of environment variables with location of required components. Possible  variables to set in this file are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>JAVA_HOME</strong></span> - location of Java installation home directory. <span class="strong"><strong>Must be set</strong></span>.</li><li class="listitem"><span class="strong"><strong>TIGASE_HOME</strong></span> - location of Tigase installation home directory. <span class="emphasis"><em>By default script try to find this location by searching directories from the location where the script has been run.</em></span></li><li class="listitem"><span class="strong"><strong>TIGASE_CONSOLE_LOG</strong></span> - file to which all console messages will be redirected if server is run in background. By default it will be: TIGASE_HOME/logs/tigase-console.log. <span class="strong"><strong>If this file/directory is not writable by Tigase process all console messages will be redirected to /dev/null</strong></span></li><li class="listitem"><span class="strong"><strong>TIGASE_PID</strong></span> location of the file with server PID number. By default it will be TIGASE_HOME/logs/tigase.pid.</li><li class="listitem"><span class="strong"><strong>TIGASE_CONFIG</strong></span> - location of the Tigase server config file. This is main config XML file. Not to be confused with startup script parameters file. <span class="emphasis"><em>If not set script trys to find it in following locations in given order:</em></span> /etc/conf.d/tigase-server.xml, /etc/tigase-server.xml, /etc/tigase/tigase-server.xml <span class="emphasis"><em>or finally in</em></span> TIGASE_HOME/etc/tigase-server.xml</li><li class="listitem"><span class="strong"><strong>JAVA_OPTIONS</strong></span> - options for JVM like size of RAM allocated for the JVM, properties and so on.</li></ul></div><p>You can now proceed to configuration section. Although in simple case installations most of default options should be correct sometimes you need to change server domain name if automatic detection didn&#8217;t work.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_tigase_server_version_2_x.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="_mysql_database_use.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;79.&nbsp;Tigase Server version 2.x&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;81.&nbsp;MySQL Database Use</td></tr></table></div></body></html>