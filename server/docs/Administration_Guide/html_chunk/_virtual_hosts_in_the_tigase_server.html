<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;64.&nbsp;Virtual Hosts in the Tigase Server</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="index.html" title="Tigase Administration Guide"><link rel="prev" href="_packet_filtering.html" title="Chapter&nbsp;63.&nbsp;Packet Filtering"><link rel="next" href="_specification_for_ad_hoc_commands_used_to_manage_virtual_domains.html" title="Chapter&nbsp;65.&nbsp;Specification for ad-hoc Commands Used to Manage Virtual Domains"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;64.&nbsp;Virtual Hosts in the Tigase Server</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_packet_filtering.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="_specification_for_ad_hoc_commands_used_to_manage_virtual_domains.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="_virtual_hosts_in_the_tigase_server"></a>Chapter&nbsp;64.&nbsp;Virtual Hosts in the Tigase Server</h1></div></div></div><p>Artur Hefczyc &lt;<a class="link" href="mailto:artur.hefczyc@tigase.net" target="_top">artur.hefczyc@tigase.net</a>&gt;
v2.0, June 2014: Reformatted for AsciiDoc.
:toc:
:numbered:
:website: <a class="link" href="http://tigase.net" target="_top">http://tigase.net</a>
:Date: 2010-04-06 21:18</p><p>The Tigase server supports multiple virtual hosts for a single server installation. This is supported via <a class="link" href="http://projects.tigase.org/server/trac/browser/trunk/src/main/java/tigase/vhosts/VHostManagerIfc.java" target="_top">VHostManager</a> - the new Tigase server component added recently to the implementation. Virtual hosts can be added or removed, enabled or disabled at the server runtime without restarting the service or disrupting normal operation.</p><p>This document describes how virtual hosts work in the Tigase server and how to take the most of this feature in your installation.</p><p>The simplest and default way to set virtual hosts is the server configuration. You can either edit manually the ////&lt;&lt;initPropertiesGuide,////init.properties file or use the graphical installer/configuration program to set the property. If you want to edit it manually search for '--virt-hosts' property for more detailed description.</p><p>Alternatively you can use the GUI installer as shown below to set a list of virtual hosts.</p><p><span class="inlinemediaobject"><img src="./images/tigase-basic-config-vhosts.png" alt="tigase-basic-config-vhosts"></span></p><p>This method however has many disadvantages. It requires the server restart after each change, the configuration file is not the best place to store long list of virtual domains and you can not actually set any additional parameters for the domain other than it does exist or not.</p><p>There is another way to store and control virtual domains in the Tigase server. They can be put in the database and managed using ad-hoc commands. List of domains can be modified outside the Tigase server through any third-party system or web application and the server reloads the list of when received <span class="strong"><strong>VHOSTS_RELOAD</strong></span> ad-hoc command.</p><p>There are 2 more ad-hoc commands which allow you to add/update and remove virtual hosts via XMPP protocol:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>VHOSTS_UPDATE</strong></span> - for adding new virtual host or changing parameters of the existing domain</li><li class="listitem"><span class="strong"><strong>VHOSTS_REMOVE</strong></span> - for removing existing virtual domain from the list of the server domains.</li></ul></div><p>By default, both commands cause vhosts list update in the permanent repository. This is however <a class="link" href="http://projects.tigase.org/server/trac/browser/trunk/src/main/java/tigase/vhosts/VHostRepository.java" target="_top">VHostRepository</a> implementation dependent feature and can be changed in your repository implementation.</p><p>Commands for virtual domains management can be executed using any XMPP client with a good support for service discovery and ad-hoc commands, for example <a class="link" href="http://psi-im.org/" target="_top">Psi</a>. Commands are accepted only when they are sent by the service administrator.</p><p>Please refer to documents listed below for more detailed information on the following topics:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">////&lt;&lt;managingVirtualDomainsMissing,////Managing Virtual Domains Using Psi Client.</li><li class="listitem">////&lt;&lt;ad-hocCommands,////Specification for ad-hoc Commands Used to Manage Virtual Domains.</li><li class="listitem">////&lt;&lt;apiVirtualDomain,////API Description for Virtual Domains Management in the Tigase Server.</li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_packet_filtering.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="_specification_for_ad_hoc_commands_used_to_manage_virtual_domains.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;63.&nbsp;Packet Filtering&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;65.&nbsp;Specification for ad-hoc Commands Used to Manage Virtual Domains</td></tr></table></div></body></html>