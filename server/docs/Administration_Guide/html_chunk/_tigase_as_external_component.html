<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;61.&nbsp;Tigase as External Component</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="index.html" title="Tigase Administration Guide"><link rel="prev" href="_load_balancer_plugin.html" title="Load Balancer Plugin"><link rel="next" href="_more_components.html" title="More Components"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;61.&nbsp;Tigase as External Component</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_load_balancer_plugin.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="_more_components.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="_tigase_as_external_component"></a>Chapter&nbsp;61.&nbsp;Tigase as External Component</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="_tigase_as_external_component.html#_a_simple_case_muc_as_an_external_component">A Simple Case - MUC as an External Component</a></span></dt><dt><span class="section"><a href="_more_components.html">More Components</a></span></dt></dl></div><p>Artur Hefczyc &lt;<a class="link" href="mailto:artur.hefczyc@tigase.net" target="_top">artur.hefczyc@tigase.net</a>&gt;
v2.0, June 2014: Reformatted for AsciiDoc.
:toc:
:numbered:
:website: <a class="link" href="http://tigase.net" target="_top">http://tigase.net</a>
:Date: 2010-04-06 21:18</p><p>There are cases when you want to deploy one or more Tigase components separately from the main server or perhaps you want to run some Tigase components connecting to a different XMPP server or perhaps you work on a component and you do not want to restart the main server every time you make a change.</p><p>There is a way to run the Tigase server in "external component mode". In fact you can run any of Tigase components as an external component and connect them to the main XMPP server either via <a class="link" href="http://xmpp.org/extensions/xep-0114.html" target="_top">XEP-0114</a> or <a class="link" href="http://xmpp.org/extensions/xep-0225.html" target="_top">XEP-0225</a> connection.</p><p>Let&#8217;s look at the examples&#8230;&#8203;</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_a_simple_case_muc_as_an_external_component"></a>A Simple Case - MUC as an External Component</h2></div></div></div><p>A few assumptions:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">We want to run a MUC component for a domain: 'muc.devel.tigase.org' and password 'muc-pass'</li><li class="listitem">The main server works at an address: devel.tigase.org and for the same virtual domain</li><li class="listitem">We want to connect to the server using <a class="link" href="http://xmpp.org/extensions/xep-0114.html" target="_top">XEP-0114</a> protocol and port '5270'.</li></ol></div><p>There is a special configuration type for this case which simplifies setting needed to run the Tigase as an external component:</p><pre class="programlisting">config-type=--gen-config-comp.</pre><p>This generates a configuration for the Tigase with only one component loaded by default - component used for external component connection. If you use this configuration type, your init.properties file may look like this:</p><pre class="programlisting">config-type = --gen-config-comp
--debug = server
--user-db = derby
--admins = admin@devel.tigase.org
--user-db-uri = jdbc:derby:/tigasedb
--virt-hosts = devel.tigase.org
--comp-name-1 = muc
--comp-class-1 = tigase.muc.MUCComponent
--external = muc.devel.tigase.org:muc-pass:connect:5270:devel.tigase.org:accept</pre><p>Please note, you do not need lines:</p><pre class="programlisting">--comp-name-1 = ext
--comp-class-1 = tigase.server.ext.ComponentProtocol</pre><p>as the</p><pre class="programlisting">--gen-config-comp</pre><p>automatically includes them.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_load_balancer_plugin.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="_more_components.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Load Balancer Plugin&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;More Components</td></tr></table></div></body></html>