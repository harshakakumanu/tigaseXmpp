<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Logging/Authentication</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Development Guide"><link rel="up" href="saslcmac.html" title="Chapter&nbsp;15.&nbsp;SASL Custom Mechanisms and Configuration"><link rel="prev" href="saslcmac.html" title="Chapter&nbsp;15.&nbsp;SASL Custom Mechanisms and Configuration"><link rel="next" href="cmd.html" title="Custom Mechanisms Development"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Logging/Authentication</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="saslcmac.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;15.&nbsp;SASL Custom Mechanisms and Configuration</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="cmd.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_logging_authentication"></a>Logging/Authentication</h2></div></div></div><p>After the XMPP stream is opened by a client, the server checks which SASL mechanisms are available for the XMPP session. Depending on whether the stream is encrypted or not, depending on the domain, the server can present different available authentication mechanisms. MechanismSelector is responsible for choosing mechanisms. List of allowed mechanisms is stored in the XMPP session object.</p><p>When the client/user begins authentication procedure it uses one particular mechanism. It must use one of the mechanisms provided by the server as available for this session. The server checks whether mechanisms used by the client is on the list of allowed mechanisms. It the check is successful, the server creates <code class="literal">'SaslServer'</code> class instance and proceeds with exchanging authentication information. Authentication data is different depending on the mechanism used.</p><p>When the SASL authentication is completed without any error, the Tigase server should have authorized user name or authorized BareJID. In the first case, the server automatically builds user&#8217;s JID based on the domain used in the stream opening element in '<code class="literal">to</code>' attribute.</p><p>If, after a successful authentication, method call: <code class="literal">'getNegotiatedProperty("IS_ANONYMOUS")\'</code> returns <code class="literal">'Boolean.TRUE'</code> then the user session is marked as anonymous. For valid and registered users this can be used for cases when we do not want to load any user data such as roster, vcard, privacy lists and so on. This is a performance and resource usage implication and can be useful for use cases such as support chat. The authorization is performed based on the client database but we do not need to load any XMPP specific data for the user&#8217;s session.</p><p>More details about implementation can be found at custom mechanisms development.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_built_in_mechanisms"></a>Built-in Mechanisms</h3></div></div></div><p><span class="strong"><strong>PLAIN</strong></span></p><p><span class="emphasis"><em>TODO!</em></span></p><p><span class="strong"><strong>ANONYMOUS</strong></span></p><p><span class="emphasis"><em>TODO!</em></span></p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="saslcmac.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="saslcmac.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="cmd.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;15.&nbsp;SASL Custom Mechanisms and Configuration&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Custom Mechanisms Development</td></tr></table></div></body></html>