<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Using older non-annotation based implementation</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Development Guide"><link rel="up" href="wpc.html" title="Chapter&nbsp;17.&nbsp;Writing Plugin Code"><link rel="prev" href="wpc.html" title="Chapter&nbsp;17.&nbsp;Writing Plugin Code"><link rel="next" href="_implementation_of_processing_method.html" title="Implementation of processing method"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Using older non-annotation based implementation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="wpc.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;17.&nbsp;Writing Plugin Code</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="_implementation_of_processing_method.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_using_older_non_annotation_based_implementation"></a>Using older non-annotation based implementation</h2></div></div></div><p>The class declaration should look like this (assuming you implement just packet processor):</p><pre class="programlisting">public class Message extends XMPPProcessor
   implements XMPPProcessorIfc</pre><p>The first thing to create is the plugin <span class="strong"><strong>ID</strong></span>. This is a unique string which you put in the configuration file to tell the server to load and use the plugin. In most cases you can use XMLNS if the plugin wants packets with elements with a very specific name space. Of course there is no guarantee there is no other packet for this specific XML element too. As I want to process all messages and I don&#8217;t want to spend whole day on thinking about a cool ID let&#8217;s say our ID is: 'message'.</p><p>A plugin informs about it&#8217;s ID using following code:</p><pre class="programlisting">private static final String ID = "message";
public String id() { return ID; }</pre><p>As I mentioned before such a plugin receives only this kind of packets for processing which it is interested in. My plugin is interested only in packets with <span class="strong"><strong>&lt;message/&gt;</strong></span> elements and only if they are in "<span class="strong"><strong>jabber:client</strong></span>" namespace. To indicate all supported elements and namespaces we have to add 2 more methods:</p><pre class="programlisting">public String[] supElements() {
  return new String[] {"message"};
}

public String[] supNamespaces()	{
  return new String[] {"jabber:client"};
}</pre></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="wpc.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="wpc.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="_implementation_of_processing_method.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;17.&nbsp;Writing Plugin Code&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Implementation of processing method</td></tr></table></div></body></html>