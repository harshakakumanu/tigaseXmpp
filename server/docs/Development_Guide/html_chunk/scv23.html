<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;10.&nbsp;Server Compilation - version 2.x and 3.x</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Development Guide"><link rel="up" href="index.html" title="Tigase Development Guide"><link rel="prev" href="scv4ol.html" title="Chapter&nbsp;9.&nbsp;Tigase Packages Dependency Change - Server Compilation Version 4.x or Later"><link rel="next" href="maven2support.html" title="Chapter&nbsp;11.&nbsp;Maven 2.x Support"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;10.&nbsp;Server Compilation - version 2.x and 3.x</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="scv4ol.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="maven2support.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="scv23"></a>Chapter&nbsp;10.&nbsp;Server Compilation - version 2.x and 3.x</h1></div></div></div><p>Artur Hefczyc &lt;<a class="link" href="mailto:artur.hefczyc@tigase.net" target="_top">artur.hefczyc@tigase.net</a>&gt;
v2.0, June 2014: Reformatted for AsciiDoc.
:toc:
:numbered:
:website: <a class="link" href="http://tigase.net/" target="_top">http://tigase.net/</a>
:Date: 2010-04-06 21:22</p><p><span class="emphasis"><em>Tigase XMPP Server version <span class="strong"><strong>4.x</strong></span> or later need slightly different procedure to compile.</em></span></p><p>Although the server doesn&#8217;t need any third-party libraries apart from Java 6.0 (1.6beta2) compliant JVM to run, <a class="link" href="http://ant.apache.org/" target="_top">Apache Ant</a> tool and <a class="link" href="http://ant-contrib.sourceforge.net/" target="_top">Ant-Contrib</a> are used to build binaries of <span class="strong"><strong>Tigase</strong></span> applications and libraries. Another tools which is needed is a <a class="link" href="http://subversion.tigris.org/" target="_top">Subversion</a> which is required to download the most recent sources from <span class="strong"><strong>Tigase</strong></span> repository.</p><p>To make it a list, again:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><a class="link" href="http://java.sun.com/javase/6/webnotes/install/index.html" target="_top">JDK-1.6</a> - Java SDK to compile and run <span class="strong"><strong>Tigase</strong></span> applications.</li><li class="listitem"><a class="link" href="http://ant.apache.org/" target="_top">Apache Ant</a> - the build tool</li><li class="listitem"><a class="link" href="http://ant-contrib.sourceforge.net/" target="_top">Ant-Contrib</a> - <span class="strong"><strong>Apache Ant</strong></span> extensions used by build script (ant-contrib on gentoo, and ant-optional on Ubuntu)</li><li class="listitem"><a class="link" href="http://subversion.tigris.org/" target="_top">Subversion</a> - version control system used by <span class="strong"><strong>Tigase</strong></span>.</li></ol></div><p>Install all above in standard way, appropriate for your operating system. It is enough if they are available in system PATH variable so you can execute them from command line.</p><p><span class="strong"><strong>Tigase Server</strong></span> has been divided into a few smaller subprojects some time ago. In order to have it all working together we need to do compile them one by one. Here is step by step instruction how to do it. Assuming you already run command line shell and changed to directory where you want to keep all <span class="strong"><strong>Tigase</strong></span> files do as follows:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Get <span class="strong"><strong>tigase-utils</strong></span> sources and compile them:</p><pre class="programlisting">svn co https://svn.tigase.org/reps/tigase-utils/trunk/ utils
cd utils
ant clean jar
cd ..</pre></li><li class="listitem"><p class="simpara">Get <span class="strong"><strong>tigase-xmltools</strong></span> sources and compile them:</p><pre class="programlisting">svn co https://svn.tigase.org/reps/tigase-xmltools/trunk/ xmltools
cd xmltools
ant clean jar
cd ..</pre></li><li class="listitem"><p class="simpara">Get <span class="strong"><strong>tigase-server</strong></span> sources and compile them:</p><pre class="programlisting">svn co https://svn.tigase.org/reps/tigase-server/trunk/ server
cp xmltools/jars/tigase-xmltools.jar server/libs/
cp utils/jars/tigase-utils.jar server/libs/
cd server
ant clean jar</pre></li></ol></div><p>Now you have <span class="strong"><strong>Tigase Server</strong></span> compiled and ready to run. To check and make sure it is indeed compiled and can be executed you can try to start the server. Assuming you are in the directory where you executed the last compilation command for server sources run following command:</p><pre class="programlisting">java -cp libs/tigase-utils.jar:libs/tigase-xmltools.jar:jars/tigase-server.jar tigase.server.XMPPServer</pre><p>If it all worked correctly you should see output similar to presented below:</p><pre class="programlisting">2006-10-04 17:00:38  ConfigRepository.init()        WARNING:  Can not open existing configuration file
2006-10-04 17:00:38  XMLDB.setupNewDB()                  INFO:     Create empty DB.
2006-10-04 17:00:38  MessageRouter.addRegistrator()      INFO:     Adding registrator: Configurator
2006-10-04 17:00:38  MessageRouter.addComponent()        INFO:     Adding component: Configurator
2006-10-04 17:00:38  Configurator.setupLogManager()      WARNING:  DONE
2006-10-04 17:00:38  Configurator.setupLogManager()      WARNING:  DONE
2006-10-04 17:00:39  XMLRepository.()              WARNING:  Can not open existing user repository file</pre><p>Now you can proceed to configuration document to learn how to tweak server settings or you can just start hacking server code and do experiments.</p><p>include::text/Development_Guide_11_-_Using_Maven.asciidoc</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="scv4ol.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="maven2support.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;9.&nbsp;Tigase Packages Dependency Change - Server Compilation Version 4.x or Later&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;11.&nbsp;Maven 2.x Support</td></tr></table></div></body></html>